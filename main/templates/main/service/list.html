{% extends 'main/base.html' %}
{% load static %}

{% block title %}–£—Å–ª—É–≥–∏{% endblock title %}

{% block content %}
<div class="category-header">
    <h1>–ù–∞—à–∏ —É—Å–ª—É–≥–∏</h1>
    <p>–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â—É—é —É—Å–ª—É–≥—É –∏ –∑–∞–ø–∏—à–∏—Ç–µ—Å—å –Ω–∞ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ</p>
</div>

<div class="products-section">
    {% if services %}
        <div class="products-grid">
            {% for service in services %}
                <div class="product-card">
                    {% if service.image %}
                        <img src="{{ service.image.url }}" alt="{{ service.name }}" class="product-image">
                    {% else %}
                        <div class="product-image" style="background: linear-gradient(45deg, #667eea, #764ba2); display: flex; align-items: center; justify-content: center; color: white; font-size: 3rem;">
                            üèÉ‚Äç‚ôÇÔ∏è
                        </div>
                    {% endif %}
                    
                    <div class="product-info">
                        <h3 class="product-name">{{ service.name }}</h3>
                        <div class="service-trainer">
                            <strong>–¢—Ä–µ–Ω–µ—Ä:</strong> {{ service.trainer_name }}
                        </div>
                        <div class="service-time">
                            <strong>–í—Ä–µ–º—è:</strong> {{ service.event_time|date:"d.m.Y H:i" }}
                        </div>
                        <div class="service-capacity" style="margin:8px 0;color:var(--text-secondary)">
                            –ó–∞–Ω—è—Ç–æ –º–µ—Å—Ç: {{ service.booked_count }} / {{ service.capacity }}
                            {% if service.is_full %}
                                <span style="color:var(--danger-color); font-weight:600; margin-left:6px;">–ù–µ—Ç –º–µ—Å—Ç</span>
                            {% else %}
                            <br>
                                <span style="color:var(--success-color); font-weight:600; margin-left:0px;">–°–≤–æ–±–æ–¥–Ω–æ: {{ service.seats_left }}</span>
                            {% endif %}
                        </div>
                                    <div class="product-price">{{ service.price }} BYN</div>
                        
                        {% if service.description %}
                            <p class="product-description">{{ service.description|truncatewords:20 }}</p>
                        {% endif %}
                        
                        <a href="{{ service.get_absolute_url }}" class="product-link">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</a>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="no-products">
            <h2>–£—Å–ª—É–≥–∏ –ø–æ–∫–∞ –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã</h2>
            <p>–°–∫–æ—Ä–æ –∑–¥–µ—Å—å –ø–æ—è–≤—è—Ç—Å—è –Ω–æ–≤—ã–µ —É—Å–ª—É–≥–∏ –∏ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è!</p>
        </div>
    {% endif %}
</div>

{% endblock content %}
